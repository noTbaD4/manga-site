<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Manga Reader</title>

<style>
body {
  margin: 0;
  background: black;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

img {
  max-width: 100%;
  max-height: 100%;
}

#topbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 50px;
  background: rgba(0,0,0,0.9);
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: Arial;
  transform: translateY(-100%);
  transition: transform 0.3s ease;
}

#topbar button {
  margin-left: 10px;
}
</style>
</head>

<body>

<div id="topbar">
  Sayfa:
  <select id="pageSelect"></select>
</div>

<img id="mangaImage" src="manga/manga1/chapter1/01_clean.jpg">

<script>
let currentPage = 1;
const totalPages = 20;
const folder = "manga/manga1/chapter1/";

const img = document.getElementById("mangaImage");
const select = document.getElementById("pageSelect");
const topbar = document.getElementById("topbar");

// Sayfa seçeneklerini oluştur
for (let i = 1; i <= totalPages; i++) {
  let option = document.createElement("option");
  option.value = i;
  option.text = i;
  select.appendChild(option);
}

// Sayfa güncelle
function updateImage() {
  let page = currentPage.toString().padStart(2, '0');
  img.src = folder + page + "_clean.jpg";
  select.value = currentPage;
}

// Sağ sol tıklama
document.body.addEventListener("click", function(e) {
  if (e.clientY < 60) return; // üst bar bölgesine tıklamayı ignore et

  if (e.clientX > window.innerWidth / 2) {
    if (currentPage < totalPages) currentPage++;
  } else {
    if (currentPage > 1) currentPage--;
  }
  updateImage();
});

// Dropdown ile sayfa atlama
select.addEventListener("change", function() {
  currentPage = parseInt(this.value);
  updateImage();
});

// Sadece üst 10px'e gelince bar çıksın
document.addEventListener("mousemove", function(e) {
  if (e.clientY < 10) {
    topbar.style.transform = "translateY(0)";
  } else {
    topbar.style.transform = "translateY(-100%)";
  }
});
</script>

</body>
</html>
